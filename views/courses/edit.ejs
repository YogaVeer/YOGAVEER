<%- layout("layouts/boilerplate") %>

<h2 class="mb-4">Edit Lesson (Senior Citizens)</h2>

<form action="/lessons/<%= lesson._id %>?_method=PUT" method="POST">
  <!-- Lesson Title -->
  <div class="mb-3">
    <label for="lessonTitle" class="form-label">Lesson Title</label>
    <input
      type="text"
      class="form-control"
      id="lessonTitle"
      name="lessonTitle"
      value="<%= lesson.title %>"
      required
    >
  </div>

  <!-- Existing Video Preview -->
  <% if (lesson.videoPath) { %>
    <div class="mb-3">
      <label class="form-label">Current Video</label><br>
      <video src="<%= lesson.videoPath %>" controls width="300"></video>
    </div>
  <% } %>

  <!-- New Video Link Input -->
  <div class="mb-3">
    <label for="videoPath" class="form-label">Update Video Link (URL)</label>
    <input
      type="url"
      class="form-control"
      id="videoPath"
      name="videoPath"
      placeholder="https://your-link/video.mp4"
    >
  </div>

  <!-- Section Selection -->
  <div class="mb-3">
    <label for="sectionId" class="form-label">Select Section</label>
    <select class="form-control" id="sectionId" name="sectionId" required>
      <% sections.forEach(section => { %>
        <option
          value="<%= section._id %>"
          <%= section._id.toString() === lesson.section.toString() ? "selected" : "" %>
        >
          <%= section.title %>
        </option>
      <% }) %>
    </select>
  </div>

  <button type="submit" class="btn btn-dark">Update Lesson</button>
</form>
